d2s.pl (version 2.00 beta)
======================
Удобно настраиваемый скрипт, предназначенный для вывода различной информации на панель, 
используя Dzen2

**Проект не поддерживается**

Автор: Бабаев Евгений, 2012

Пак иконок по умолчанию от [sm4tik] (http://dzen.geekmode.org/dwiki/doku.php?id=dzen:icon-packs)

## Лицензия
WTFPL, см. файл LICENSE

## Системные требования
* __perl__
* __dzen2__

## Включённые модули по умолчанию
* __battery__: Уровень зарядки батареи
* __brightness__: Текущая яркость экрана
* __cpu_freq__: Частота процессора
* __date__: Текущая дата
* __desktop__: Список рабочих столов
* __imap__: Количество новых писем на сервере IMAP
* __ip__: Текущий внутрисетевой IP адрес
* __kernel__: Версия ядра
* __layout__: Раскладка клавиатуры
* __memory__: Объём занимаемой памяти
* __time__: Текущее время
* __uptime__: Текущий аптайм
* __volume__: Громкость (для ALSA)
* __weather__: Погода в городе

## Необходимые Perl-модули:
* __LWP::UserAgent__: для работы модулей __weather__
* __POSIX::strftime__: для работы модулей __time__ и __date__
* __Mail::IMAPClient__: для работы модуля __imap__
* __IO::Socket::SSL__: Для работы модуля __imap__, если используется SSL-подключение

## Необходимое для работы модулей ПО:
* __acpi__: для модуля *battery*
* __cpufreq-info__: для модуля *cpu_freq*
* __wmctrl__: для модуля *desktops*
* __ip__: для модуля *ip*
* __skb__ или __xkb-switch__: для модуля *layout*
* __amixer__: для модуля *volume*

## Описание доступных опций файла конфигурации
### Main
__main.enabled__: Список включённых модулей, разделнённых пробелами

__main.icons_path__: Путь к иконкам в формате xbm или xpm. Если параметр ui.use_icons равен false, 
путь к иконкам можно не указывать

__main.na_text__: Текст, отображаемый в случае, когда невозможно получить значение (например 
текущую погоду или количество писем при отстутствия подключения к сети)

__main.start_delay__: Пауза перед запуском. Указывается в секундах

### Dzen2
__dzen2.path__: Путь к исполняемому файлу Dzen2

__dzen2.position__: Положение вывода текста на панель. Может принимать значения left, right, center 
или сокращённые формы (l, r, c)

__dzen2.font__: Шрифт вывода на панель

__dzen2.background__: Фоновый цвет панели

__dzen2.events__: Обработчики действий Dzen. Строка, которая будет передана, как параметр -e

__dzen2.width__: Длина панели. Если значение равно нулю, панель будет занимать всю доступную по 
вертикали область

### UI
__ui.use_icons__: Определяет, использовать ли иконки. Если параметр равен True (1) — вместо 
текстовых надписей буду использоваться иконки

__ui.padding__: Расстояние между индикаторами по умолчанию

__ui.label_padding__: Расстояние между надписью/иконкой и значением индикатора

### Colors
__colors.default__: Основной цвет индикаторов

__colors.disabled__: Дополнительный цвет индикаторов (например для отображения громкости при 
отключённом звуке или уровне зарядки без питания от электричества)

__colors.label__: Цвет отображения подписей и иконкам

### Mod
Настройки группы *mod* помогают настраивать параметры любого из модулей. Здесь будет представлено 
описание настроек, доступных для каждого из них. Специфичные настройки для модуля модуля можно 
найти в документации к нему.

__mod.*mod_name*.upd__: Интервал обновления контента модуля

__mod.*mod_name*.color__: Цвет вывода контента

__mod.*mod_name*.rpadding__: Расстояние между текущим модулем и следующим за ним

__mod.*mod_name*.label__: Надпись перед модулем. Отображается при настройке *ui.use_icons = 0*

__mod.*mod_name*.icon__: Имя файла иконки, отображаемой перед модулем. Отображается при настройке 
*ui.use_icons = 1*

## История изменений
### 2.00 Beta 16
* *(battery)* Упрощена проверка статуса работы от батарии
* Возможность указывать интервал обновления в днях
* Опитимизирована обработка параметров Dzen2

### 2.00 Beta 15
* *(ip)* Возможность использовать *ifconfig* вместо *ip*. По умолчанию — *False*

### 2.00 Beta 14
* Оптимизирован модуль работы с настройками

### 2.00 Beta 13
* Сильно оптимизирован основной цикл генерации контента для индикаторов
* Параметр файла конфиругации rpadding для модулей был переименован в padding, для удобства и 
совместимости
* *(imap)* Добавлена загрузка пропущенного Perl модуля *IO::Socket::SSL*, из-за котого не работал 
модуль
* *(weather)* Добавлен таймаут для модуля в 3 секунды, чтобы не тормозить обновление остального 
контента, в случае, если погоду невозможно получить в течении этого времени

### 2.00 Beta 12
* Оптимизирована функция парсинга времени

### 2.00 Beta 11
* *(imap)* Модуль Gmail заменён на модуль IMAP, который может получать количество непрочитанных сообщений с 
любого IMAP-сервера. Новому модулю требуются установленные модули Mail::IMAPClient и, если 
используется SSL-подключение, IO::Socket::SSL. Новый модуль больше не требует LWP::UserAgent для 
работы

### 2.00 Beta 10
* Оптимизирована функция парсинга времени
* Возможность указать время обновления в днях
* Небольшие оптимизации и исправления ошибок

### 2.00 Beta 9
* *(layout)* Возможность использовать skb вместо xkb-switch для получения текущей раскладки

### 2.00 Beta 8
* *(memory)* Возможность выводить количество свободной памяти в процентном отношении

### 2.00 Beta 7
* Проверка наличия модуля перед обновленим контента индикатора
* Добавлен текст лицензии

### 2.00 Beta 6
* Возможность обновлять индикаторы лишь один раз, при запуске программы

### 2.00 Beta 5
* Возможно указать путь к исполняемому фалу Dzen2

### 2.00 Beta 4
* Исправление различных ошибок

### 2.00 Beta 3
* Возможность указать паузу перед запуском скрипта
* Возможность указывать шкалу измерения времени в файле конфигурации

### 2.00 Beta 2
* Возможность настройки Dzen2
* Исравлена ошибка, из-за которого парсер настроек мог не учитывать некоторые параметры

### 2.00 Beta 1
* Первая бета версия ветки 2.0. Введена поддержка модульности.

## Контакты
* https://github.com/segrived/d2s.pl
* segrived@gmail.com
